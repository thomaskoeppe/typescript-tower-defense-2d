(()=>{"use strict";var e,t={559:(e,t,s)=>{var i=s(425),a=s.n(i);class r extends Phaser.Plugins.ScenePlugin{scene;totalTime;animatedTiles;rate;active;activeLayer;followTimeScale;constructor(e,t){super(e,t,"AnimatedTiles"),this.scene=e,this.totalTime=0,this.animatedTiles=[],this.rate=1,this.active=!1,this.activeLayer=[],this.followTimeScale=!0,e.sys.settings.isBooted||e.sys.events.once("boot",this.boot,this)}boot(){const e=this.systems.events;e.on("postupdate",this.postUpdate,this),e.on("shutdown",this.shutdown,this),e.on("destroy",this.destroy,this)}init(e,t=[]){const s=this.getAnimatedTiles(e),i={map:e,animatedTiles:s,active:!0,rate:1,activeLayer:[]};e.layers.forEach((function(s){const a=e.layers.indexOf(s);i.activeLayer.push(t.indexOf(a)>-1)})),this.animatedTiles.push(i),1===this.animatedTiles.length&&(this.active=!0),this.syncNewTiles(i)}setRate(e,t=null,s=null){if(null===t)null===s?this.rate=e:this.animatedTiles[s].rate=e;else{const i=function(s){s.forEach((function(s){s.index===t&&(s.rate=e)}))};null===s?this.animatedTiles.forEach((function(e){i(e.animatedTiles)})):i(this.animatedTiles[s].animatedTiles)}}postUpdate(e,t){if(!this.active)return;this.totalTime+=t;const s=t*this.rate*(this.followTimeScale?this.scene.time.timeScale:1);this.animatedTiles.forEach((e=>{if(!e.active)return;const t=s*e.rate;e.animatedTiles.forEach((s=>{if(s.next-=t*s.rate,s.next<0){const t=s.currentFrame,i=s.frames[t].tileid;let a=t+1;a>s.frames.length-1&&(a=0),s.next+=s.frames[a].duration,s.currentFrame=a,s.tiles.forEach(((t,a)=>{e.activeLayer[a]&&this.updateLayer(s,t,i)}))}}))}))}syncNewTiles(e){const t=this.totalTime*this.rate*(this.followTimeScale?this.scene.time.timeScale:1);e.animatedTiles.forEach((s=>{const i=t*s.rate,a=this.getAnimationDuration(s);s.next=-(i-Math.floor(i/a)*a);const r=s.currentFrame,n=s.frames[r].tileid;for(;s.next<0;){const e=(s.currentFrame+1)%s.frames.length;s.next+=s.frames[e].duration,s.currentFrame=e}s.tiles.forEach(((t,i)=>{e.activeLayer[i]&&this.updateLayer(s,t,n)}))}))}getAnimationDuration(e){let t=0;for(const s of e.frames)t+=s.duration;return t}updateLayer(e,t,s=-1){const i=[],a=e.frames[e.currentFrame].tileid;t.forEach((function(e){s>-1&&(null===e||e.index!==s)?i.push(e):e.index=a})),i.forEach((function(e){const s=t.indexOf(e);s>-1?t.splice(s,1):console.error("This shouldn't happen. Not at all. Blame Phaser Animated Tiles plugin. You'll be fine though.")}))}shutdown(){this.scene=null,this.animatedTiles.length=0}removeMap(e){const t=this.animatedTiles.findIndex((function(t){return t.map===e}));-1!==t?this.animatedTiles.splice(t,1):console.error("Removing animated tiles from the map was unsuccessful: map wasn't found!")}destroy(){this.shutdown()}getAnimatedTiles(e){const t=[];return e.tilesets.forEach((function(s){const i=s.tileData;Object.keys(i).forEach((function(a){const r=parseInt(a);if(i[r].hasOwnProperty("animation")){const a={index:r+s.firstgid,frames:[],currentFrame:0,tiles:[],rate:1,next:0};i[r].animation.forEach((function(e){const t={duration:e.duration,tileid:e.tileid+s.firstgid};a.frames.push(t)})),a.next=a.frames[0].duration,a.currentFrame=a.frames.findIndex((function(e){return e.tileid===r+s.firstgid})),e.layers.forEach((function(e){if(e.tilemapLayer&&e.tilemapLayer.type&&"StaticTilemapLayer"===e.tilemapLayer.type)return void a.tiles.push([]);const t=[];e.data.forEach((function(e){e.forEach((function(e){e.index-s.firstgid===r&&t.push(e)}))})),a.tiles.push(t)})),t.push(a)}}))})),e.layers.forEach(((e,t)=>{this.activeLayer[t]=!0})),t}updateAnimatedTiles(){let e=null;null===e&&(e=[],this.animatedTiles.forEach((function(t){e.push(t)}))),e.forEach((function(e){e.animatedTiles.forEach((function(t){t.tiles.forEach((function(s,i){const a=e.map.layers[i];if(!a.type||"StaticTilemapLayer"!==a.type)for(let a=0;a<10;a++)for(let r=0;r<10;r++){const n=e.map.layers[i].data[a][r];n.index===t.index&&(-1===s.indexOf(n)&&s.push(n),n.index=t.frames[t.currentFrame].tileid)}}))}))}))}static register(e){e.register("AnimatedTiles",r,"animatedTiles")}}var n,o,l=s(486);class h{list;constructor(...e){this.list=(0,l.flatten)(e)}[Symbol.iterator]=function*(){yield*this.list};add(...e){this.list=(0,l.flatten)([...e,...this.list])}forEach(e){return this.list.forEach(e)}map(e){return this.list.map(e)}reduce(e,t){return this.list.reduce(e,t)}update(e,t){this.list.forEach((function(s){return s.update(e,t)}));const[s,i]=(0,l.partition)(this.list,(function(e){return e.isDead()}));s.forEach((function(e){return e.destroy()})),this.list=i}remove(e){this.list=this.list.filter((function(t){return t!==e}))}get active(){return this.list.filter((function(e){return!e.isDead()})).length}}class p{static loadSpritesheets(e){e.load.atlas("enemies-7","./assets/sprites/enemies/7/spritesheet.png","./assets/sprites/enemies/7/spritesheet.json"),e.load.atlas("enemies-5","./assets/sprites/enemies/5/spritesheet.png","./assets/sprites/enemies/5/spritesheet.json"),e.load.atlas("towers-0","./assets/sprites/towers/0/spritesheet.png","./assets/sprites/towers/0/spritesheet.json"),e.load.atlas("towers-2","./assets/sprites/towers/2/spritesheet.png","./assets/sprites/towers/2/spritesheet.json"),e.load.atlas("projectiles-0-lvl-0","./assets/sprites/projectiles/0/spritesheet-0.png","./assets/sprites/projectiles/0/spritesheet-0.json"),e.load.atlas("projectiles-0-lvl-1","./assets/sprites/projectiles/0/spritesheet-1.png","./assets/sprites/projectiles/0/spritesheet-1.json"),e.load.atlas("projectiles-0-lvl-2","./assets/sprites/projectiles/0/spritesheet-2.png","./assets/sprites/projectiles/0/spritesheet-2.json"),e.load.atlas("weapons-0-lvl-0","./assets/sprites/weapons/0/spritesheet-0.png","./assets/sprites/weapons/0/spritesheet-0.json"),e.load.atlas("weapons-0-lvl-1","./assets/sprites/weapons/0/spritesheet-1.png","./assets/sprites/weapons/0/spritesheet-1.json"),e.load.atlas("weapons-0-lvl-2","./assets/sprites/weapons/0/spritesheet-2.png","./assets/sprites/weapons/0/spritesheet-2.json"),e.load.atlas("weapons-2-lvl-0","./assets/sprites/weapons/2/spritesheet-0.png","./assets/sprites/weapons/2/spritesheet-0.json"),e.load.atlas("effects-0","./assets/sprites/effects/0/spritesheet.png","./assets/sprites/effects/0/spritesheet.json"),e.load.atlas("tower-destroy-animations","./assets/sprites/anims/0/spritesheet.png","./assets/sprites/anims/0/spritesheet.json"),e.load.atlas("tower-animations","./assets/sprites/anims/1/spritesheet.png","./assets/sprites/anims/1/spritesheet.json")}static loadImages(e){}static loadTilemaps(e){e.load.image("tiles-base","./assets/sprites/maps/base.png"),e.load.image("tiles-water","./assets/sprites/maps/water.png"),e.load.image("tiles-leaves","./assets/sprites/maps/leaves.png"),e.load.image("tiles-wind","./assets/sprites/maps/wind.png"),e.load.tilemapTiledJSON("tilemap","./assets/tilemaps/map-2.json")}static loadWavedata(e){e.load.json("wavedata","./config/wavedata/normal.json"),e.load.json("mapdata","./config/mapdata/map-2.json")}static loadAudio(e){}static loadIcons(e){e.load.atlas("icons-0","./assets/icons/spritesheet-0.png","./assets/icons/spritesheet-0.json"),e.load.atlas("icons-1","./assets/icons/spritesheet-1.png","./assets/icons/spritesheet-1.json"),e.load.atlas("icons-2","./assets/icons/spritesheet-2.png","./assets/icons/spritesheet-2.json"),e.load.atlas("icons-frames-0","./assets/sprites/frames/spritesheet-0.png","./assets/sprites/frames/spritesheet-0.json"),e.load.atlas("icons-frames-1","./assets/sprites/frames/spritesheet-1.png","./assets/sprites/frames/spritesheet-1.json"),e.load.svg("icon-heart",URL.createObjectURL(new Blob(['<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M9 2H5v2H3v2H1v6h2v2h2v2h2v2h2v2h2v2h2v-2h2v-2h2v-2h2v-2h2v-2h2V6h-2V4h-2V2h-4v2h-2v2h-2V4H9V2zm0 2v2h2v2h2V6h2V4h4v2h2v6h-2v2h-2v2h-2v2h-2v2h-2v-2H9v-2H7v-2H5v-2H3V6h2V4h4z" fill="currentColor"/> </svg>'],{type:"image/svg+xml"})))}static generateAnimations(e){e.anims.create({key:"enemies-7-walk-down",frames:e.anims.generateFrameNames("enemies-7",{prefix:"d-",start:8,end:15}),frameRate:8,repeat:-1}),e.anims.create({key:"enemies-7-walk-up",frames:e.anims.generateFrameNames("enemies-7",{prefix:"u-",start:8,end:15}),frameRate:8,repeat:-1}),e.anims.create({key:"enemies-7-walk-lr",frames:e.anims.generateFrameNames("enemies-7",{prefix:"lr-",start:8,end:15}),frameRate:8,repeat:-1}),e.anims.create({key:"enemies-5-walk-down",frames:e.anims.generateFrameNames("enemies-5",{prefix:"d-",start:8,end:15}),frameRate:8,repeat:-1}),e.anims.create({key:"enemies-5-walk-up",frames:e.anims.generateFrameNames("enemies-5",{prefix:"u-",start:8,end:15}),frameRate:8,repeat:-1}),e.anims.create({key:"enemies-5-walk-lr",frames:e.anims.generateFrameNames("enemies-5",{prefix:"lr-",start:8,end:15}),frameRate:8,repeat:-1}),e.anims.create({key:"weapons-0-lvl-0-shoot",frames:e.anims.generateFrameNames("weapons-0-lvl-0",{frames:[1,2,3,4,5,0]}),frameRate:8,repeat:0}),e.anims.create({key:"weapons-2-lvl-0-shoot",frames:e.anims.generateFrameNames("weapons-2-lvl-0",{frames:[1,2,3,4,5,6,7,0]}),frameRate:8,repeat:0}),e.anims.create({key:"projectiles-0-lvl-0-shoot",frames:e.anims.generateFrameNames("projectiles-0-lvl-0",{start:0,end:2}),frameRate:8,repeat:-1}),e.anims.create({key:"projectiles-0-hit",frames:e.anims.generateFrameNames("effects-0",{start:0,end:5}),frameRate:8,repeat:0}),e.anims.create({key:"weapons-0-lvl-1-shoot",frames:e.anims.generateFrameNames("weapons-0-lvl-1",{frames:[1,2,3,4,5,0]}),frameRate:8,repeat:0}),e.anims.create({key:"projectiles-0-lvl-1-shoot",frames:e.anims.generateFrameNames("projectiles-0-lvl-1",{start:0,end:2}),frameRate:8,repeat:-1}),e.anims.create({key:"weapons-0-lvl-2-shoot",frames:e.anims.generateFrameNames("weapons-0-lvl-2",{frames:[1,2,3,4,5,0]}),frameRate:8,repeat:0}),e.anims.create({key:"projectiles-0-lvl-2-shoot",frames:e.anims.generateFrameNames("projectiles-0-lvl-2",{start:0,end:2}),frameRate:8,repeat:-1}),e.anims.create({key:"tower-build-0",frames:e.anims.generateFrameNames("tower-animations",{start:0,end:5}),frameRate:8,repeat:-1}),e.anims.create({key:"tower-build-0-finish",frames:e.anims.generateFrameNames("tower-animations",{start:35,end:30}),frameRate:8,repeat:0}),e.anims.create({key:"tower-build-1",frames:e.anims.generateFrameNames("tower-animations",{start:12,end:17}),frameRate:8,repeat:-1}),e.anims.create({key:"tower-build-1-start",frames:e.anims.generateFrameNames("tower-animations",{start:35,end:30}),frameRate:8,repeat:0}),e.anims.create({key:"tower-build-1-finish",frames:e.anims.generateFrameNames("tower-animations",{start:11,end:6}),frameRate:8,repeat:0}),e.anims.create({key:"tower-build-2",frames:e.anims.generateFrameNames("tower-animations",{start:24,end:29}),frameRate:8,repeat:-1}),e.anims.create({key:"tower-build-2-start",frames:e.anims.generateFrameNames("tower-animations",{start:18,end:23}),frameRate:8,repeat:0}),e.anims.create({key:"tower-build-2-finish",frames:e.anims.generateFrameNames("tower-animations",{start:11,end:6}),frameRate:8,repeat:0}),e.anims.create({key:"tower-destroy",frames:e.anims.generateFrameNames("tower-destroy-animations",{start:0,end:12}),frameRate:8,repeat:0})}static initiate(e){this.loadSpritesheets(e),this.loadImages(e),this.loadIcons(e),this.loadTilemaps(e),this.loadWavedata(e),this.loadAudio(e)}}!function(e){e[e.BULLET=-1]="BULLET",e[e.ENEMY=-2]="ENEMY",e[e.TOWER=-3]="TOWER"}(n||(n={})),function(e){e[e.GROUND=0]="GROUND",e[e.WATER=1]="WATER",e[e.PATH=2]="PATH",e[e.ENEMY=3]="ENEMY",e[e.DECORATIONS=4]="DECORATIONS",e[e.ANIMATIONS=5]="ANIMATIONS",e[e.INTERACTION=6]="INTERACTION",e[e.UI=7]="UI",e[e.UI_ITEM=8]="UI_ITEM"}(o||(o={}));class c{static product(e,t){return(0,l.flatten)(e.map((function(e){return t.map((function(t){return[e,t]}))})))}static createPath(e,t,s,i){return e=new Phaser.Curves.Path(s.x,s.y),t.forEach((function(t){return e.lineTo(t.x,t.y)})),e.lineTo(i.x,i.y),e}static parseText(e,t){return e.replace(/%\w+%/g,(function(e){return t[e.replace(/%/g,"")]||"N/A"}))}static renderMap(e){const t=e.make.tilemap({key:"tilemap"}),s=t.addTilesetImage("tiles-base"),i=t.addTilesetImage("tiles-water"),a=t.addTilesetImage("tiles-leaves"),r=t.addTilesetImage("tiles-wind"),n=t.createLayer("Ground",[s],0,0),l=t.createLayer("Water",[i],0,0),h=t.createLayer("Path",[s],0,0),p=t.createLayer("Decorations",[s,i],0,0),c=t.createLayer("Animations",[a,r],0,0),d=t.createLayer("Interaction",[s],0,0);return n.setDepth(o.GROUND),l.setDepth(o.WATER),h.setDepth(o.PATH),p.setDepth(o.DECORATIONS),c.setDepth(o.ANIMATIONS),d.setDepth(o.INTERACTION),d.forEachTile((function(e){-1===e.index&&(e.index=72)})),t.setLayer(d),t.setCollisionByProperty({isBlocked:!0}),e.animatedTiles.init(t,[t.getLayerIndex(c),t.getLayerIndex(l)]),e.animatedTiles.setRate(.5),t}}class d{scene;bar;maxHealth;currentHealth;hideTimeout;constructor(e,t,s,i){this.scene=e,this.maxHealth=i,this.currentHealth=i,this.bar=this.scene.add.graphics(),this.bar.setDepth(o.UI_ITEM),this.bar.fillStyle(0,1),this.bar.fillRect(0,0,36,12),this.bar.fillStyle(65280,1),this.bar.fillRect(2,2,32,8),this.setVisible(!1),this.hideTimeout=0}update(e,t,s){s<this.currentHealth&&(this.setVisible(!0),this.hideTimeout=this.scene.time.now+2e3),this.scene.time.now>this.hideTimeout&&this.setVisible(!1),this.setPosition(e,t),this.setHealth(s)}setPosition(e,t){this.bar.setPosition(e,t)}setScale(e){this.bar.setScale(e)}setHealth(e){let t=65280;e<=.75*this.maxHealth&&(t=16776960),e<=.25*this.maxHealth&&(t=16711680),this.bar.clear(),this.bar.fillStyle(0,1),this.bar.fillRect(0,0,36,12),this.bar.fillStyle(t,1),this.bar.fillRect(2,2,e/this.maxHealth*32,8),this.currentHealth=e}destroy(){this.bar.destroy()}setVisible(e){this.bar.setVisible(e)}}class m{scene;sprite;params;path;follower;body;bodies;collisionBody;healthBar;constructor(e,t,s){this.params=s,this.scene=e,this.body=this.scene.matter.body,this.bodies=this.scene.matter.bodies,this.sprite=this.scene.matter.add.sprite(t.x,t.y,this.params.sprite,this.params.frame),this.follower={t:0,vec:new Phaser.Math.Vector2},this.collisionBody=this.bodies.rectangle(0,0,this.params.body.width,this.params.body.height,{chamfer:{radius:this.params.body.radius}}),this.sprite.setExistingBody(this.body.create({parts:[this.collisionBody]})).setCollisionGroup(n.ENEMY).setPosition(t.x,t.y).setScale(this.params.scale).setAngle(0).setStatic(!0).setDepth(o.ENEMY),this.healthBar=new d(this.scene,t.x,t.y,this.params.hp),this.scene.createEnemy(this)}startOnPath(e){this.path=e,this.follower.t=0,this.path.getPoint(this.follower.t,this.follower.vec),this.sprite.setPosition(this.follower.vec.x,this.follower.vec.y)}update(e,t){this.follower.t+=5e-6*t*this.params.speed,this.path.getPoint(this.follower.t,this.follower.vec);const s=180*Math.atan2(this.follower.vec.y-this.sprite.y,this.follower.vec.x-this.sprite.x)/Math.PI;s>=-44&&s<=45?(this.sprite.anims.currentAnim&&this.sprite.anims.currentAnim.key===this.params.animSet["walk-lr"]||this.sprite.anims.play(this.params.animSet["walk-lr"]),this.sprite.flipX=this.params.body.rotation.right.flipX||!1,this.sprite.flipY=this.params.body.rotation.right.flipY||!1,this.sprite.setAngle(s),this.body.setAngle(this.collisionBody,this.params.body.rotation.right.angle,!1)):s>=46&&s<135?(this.sprite.anims.currentAnim&&this.sprite.anims.currentAnim.key===this.params.animSet["walk-down"]||this.sprite.anims.play(this.params.animSet["walk-down"]),this.sprite.flipX=this.params.body.rotation.down.flipX||!1,this.sprite.flipY=this.params.body.rotation.down.flipY||!1,this.sprite.setAngle(s-90),this.body.setAngle(this.collisionBody,this.params.body.rotation.down.angle,!1)):s>=135||s<-135?(this.sprite.anims.currentAnim&&this.sprite.anims.currentAnim.key===this.params.animSet["walk-lr"]||this.sprite.anims.play(this.params.animSet["walk-lr"]),this.sprite.flipX=this.params.body.rotation.left.flipX||!1,this.sprite.flipY=this.params.body.rotation.left.flipY||!1,this.sprite.setAngle(180),this.body.setAngle(this.collisionBody,this.params.body.rotation.left.angle,!1)):s>=-135&&s<-46&&(this.sprite.anims.currentAnim&&this.sprite.anims.currentAnim.key===this.params.animSet["walk-up"]||this.sprite.anims.play(this.params.animSet["walk-up"]),this.sprite.flipX=this.params.body.rotation.up.flipX||!1,this.sprite.flipY=this.params.body.rotation.up.flipY||!1,this.sprite.setAngle(s+90),this.body.setAngle(this.collisionBody,this.params.body.rotation.up.angle,!1)),this.sprite.setPosition(this.follower.vec.x,this.follower.vec.y),this.healthBar.update(this.sprite.x,this.sprite.y+32,this.params.hp),this.follower.t>=1&&this.scene.loseHealth(this,this.params.takesHealth)}getXY(){return{x:this.sprite.x,y:this.sprite.y}}getVelXY(){const{x:e,y:t}=this.sprite.body.velocity;return{velX:e,velY:t}}getSprite(){return this.sprite}getHit(e){this.params.hp-=e,this.params.hp<=0&&this.scene.addMoney(this.params.reward)}isDead(){return this.params.hp<=0||this.follower.t>=1}destroy(){this.sprite.destroy(),this.healthBar.destroy()}hasReachedEnd(){return!0}getCoords(){return new Phaser.Math.Vector2(this.sprite.x,this.sprite.y)}}class f extends m{constructor(e,t,s){super(e,t,s)}static create(e,t){return new f(e,t,{hp:10,speed:.5,reward:1,takesHealth:1,sprite:"enemies-5",canFly:!1,frame:"d-0",scale:1,body:{width:24,height:48,radius:10,rotation:{right:{angle:80},down:{angle:0},up:{angle:0},left:{angle:-80,flipY:!0}}},animSet:{"walk-down":"enemies-5-walk-down","walk-up":"enemies-5-walk-up","walk-lr":"enemies-5-walk-lr"}})}}class u extends m{constructor(e,t,s){super(e,t,s)}static create(e,t){return new u(e,t,{hp:4,speed:1,reward:1,takesHealth:1,sprite:"enemies-7",canFly:!1,frame:"d-0",scale:1,body:{width:40,height:56,radius:20,rotation:{right:{angle:80,flipX:!0},down:{angle:0},up:{angle:0},left:{angle:-80,flipY:!0,flipX:!0}}},animSet:{"walk-down":"enemies-7-walk-down","walk-up":"enemies-7-walk-up","walk-lr":"enemies-7-walk-lr"}})}}class y{params;scene;defaultPosition;sprite;graphics;offsetY;constructor(e,t,{x:s,y:i}){this.scene=e,this.params=t,this.offsetY=i,this.sprite=this.scene.add.sprite(s,i,t.sprite,t.frame).setOrigin(0,0).setInteractive().setDepth(o.UI_ITEM),this.defaultPosition={x:this.sprite.x,y:this.sprite.y},this.scene.hud.add(this.sprite),this.scene.input.setDraggable(this.sprite),this.sprite.on("dragstart",(()=>this.dragStart())),this.sprite.on("drag",((e,t,s)=>this.drag(e,t,s))),this.sprite.on("dragend",(e=>this.dragEnd(e))),this.graphics=this.scene.add.graphics().setDepth(o.INTERACTION)}dragStart(){this.sprite.setAlpha(.85),this.graphics.fillStyle(0),this.graphics.setAlpha(.2),this.graphics.fillRect(this.sprite.x,this.sprite.y,64,64),this.graphics.lineStyle(3,0),this.graphics.strokeCircle(this.sprite.x+32,this.sprite.y+32,this.params.maxDistance)}drag(e,t,s){const i=this.scene.getTileAtWorldXY(e.worldX,e.worldY);i&&74!==i.index?this.graphics.setPosition(64*i.x,64*i.y-this.offsetY).setDepth(o.INTERACTION):this.graphics.setDepth(-1),this.sprite.setPosition(t,s),this.hasCollisions(this.scene.checkCollision(i,this.offsetY))}dragEnd(e){const t=this.scene.getTileAtWorldXY(e.worldX,e.worldY);Phaser.Math.Distance.Between(this.sprite.x,this.sprite.y,this.defaultPosition.x,this.defaultPosition.y)>5&&t&&!this.scene.checkCollision(t,this.offsetY)&&74!==t.index&&this.params.placeTower(this.scene,t),this.sprite.setAlpha(1),this.sprite.setPosition(this.sprite.input?.dragStartX,this.sprite.input?.dragStartY),this.hasCollisions(!1),this.graphics.clear()}hasCollisions(e){e?this.sprite.setTint(16711680):this.sprite.setTint(16777215)}}class w{scene;sprite;collided;body;bodies;params;debugUid;debugText;constructor(e,t,s,i){this.scene=e,this.params=i,this.collided=!1,this.body=this.scene.matter.body,this.bodies=this.scene.matter.bodies,this.sprite=this.scene.matter.add.sprite(t.x,t.y,i.sprite,i.frame),this.debugUid=Math.random().toString(36).substr(2,3).toUpperCase(),this.debugText=this.scene.add.text(t.x,t.y,this.debugUid,{fontSize:"14px",backgroundColor:"#000000"}).setDepth(o.UI),this.sprite.setExistingBody(this.body.create({parts:[this.bodies.rectangle(0,0,this.sprite.width,this.sprite.height,{chamfer:{radius:this.params.radius}})],frictionAir:0,friction:0,frictionStatic:0})).setCollisionGroup(n.BULLET).setDepth(o.INTERACTION).setPosition(t.x,t.y).setAngle(180*Math.atan2(s.y-t.y,s.x-t.x)/Math.PI+90).setScale(this.params.scale),this.sprite.applyForce(new Phaser.Math.Vector2(s.x-t.x==0?1:s.x-t.x,s.y-t.y==0?1:s.y-t.y).normalize().scale(this.params.speed)),this.sprite.anims.play(`${i.sprite}-shoot`),this.scene.createProjectile(this)}getSprite(){return this.sprite}getXY(){return{x:this.sprite.x,y:this.sprite.y}}getVelXY(){return{velX:this.sprite.body.velocity.x,velY:this.sprite.body.velocity.y}}setAngle(e){return this.sprite.setAngle(e),this}isDead(){return this.collided}destroy(){this.sprite.destroy(),this.debugText.destroy()}update(e,t){this.debugText.setPosition(this.sprite.x,this.sprite.y)}onCollide(){this.collided=!0}}class g extends w{static create(e,t,s){return new g(e,t,s,{sprite:"projectiles-0-lvl-0",frame:"0",radius:0,scale:1,damage:1,speed:.01})}}class b extends w{static create(e,t,s){return new b(e,t,s,{sprite:"projectiles-0-lvl-1",frame:"0",radius:0,scale:1,damage:2,speed:.015})}}class v extends w{static create(e,t,s){return new v(e,t,s,{sprite:"projectiles-0-lvl-2",frame:"0",radius:0,scale:1,damage:3,speed:.02})}}class x extends Phaser.GameObjects.Container{scene;buttons;tooltip;constructor(e,{x:t,y:s},{w:i,h:a},r){super(e,t,s+48),this.scene=e,this.buttons=r,this.tooltip=this.scene.add.text(0,0,"",{fontFamily:"Public Pixel",fontSize:"16px",color:"#ffffff",align:"center"}).setOrigin(.5,0).setDepth(o.UI_ITEM).setVisible(!1),this.scene.add.existing(this),this.setDepth(o.UI);let n=0;this.buttons.forEach(((e,t)=>{e.sprite=this.scene.add.sprite(32*t+16*t,0,e.icon,e.texture).setOrigin(0,0).setDepth(o.UI_ITEM).setDisplaySize(32,32),e.needsBorder&&(e.border=this.scene.add.sprite(32*t+16*t-8,-8,"icons-1","0").setOrigin(0,0).setDepth(o.UI_ITEM).setDisplaySize(48,48)),n+=t>0?48:32,e.sprite.setInteractive(),e.sprite.on("pointerdown",(function(t){(t.leftButtonDown()||t.leftButtonReleased())&&e.onClick(t)})),e.sprite.on("pointerover",(()=>{e.sprite.setAlpha(.75),e.border?.setAlpha(.75),this.tooltip.setText(e.title),this.tooltip.setPosition(this.x+e.sprite.x+16,this.y+e.sprite.y+48),this.tooltip.setVisible(!0)})),e.sprite.on("pointerout",(()=>{e.sprite.setAlpha(1),e.border?.setAlpha(1),this.tooltip.setVisible(!1)})),this.add(e.sprite),e.needsBorder&&e.border&&this.add(e.border)})),this.x-=n/2,this.hide()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}get isShown(){return this.visible}getXY(){return{x:this.x,y:this.y}}getButtons(){return this.buttons}getSize(){return{w:this.width,h:this.height}}}class T{scene;frame;bar;constructor(e,t,s,i,a){this.scene=e,t-=26,s+=72,this.bar=this.scene.add.graphics(),this.frame=this.scene.add.graphics(),this.frame.setDepth(o.UI),this.frame.fillStyle(0,1),this.frame.fillRect(0,0,52,12),this.bar.setDepth(o.UI_ITEM),this.bar.fillStyle(16777215,1),this.bar.fillRect(2,2,48,8),this.frame.setPosition(t,s),this.frame.setScale(1),this.bar.setPosition(t,s),this.bar.setScale(0,1),this.scene.tweens.add({targets:this.bar,scaleX:1,ease:"Linear",duration:i,onComplete:()=>{a(),this.frame.destroy(),this.bar.destroy()}})}}class A{params;scene;sprite;lockedEnemy;isShooting=!1;lastFired=0;body;bodies;level;levelData;radius;weapon;menu;isBuilding=!0;costs=0;destroyed=!1;constructor(e,t,s){this.scene=e,this.params=s,this.level=1,this.costs=this.params.economy.buildCost,this.levelData=this.params.level[this.level.toString()],this.body=this.scene.matter.body,this.bodies=this.scene.matter.bodies,this.sprite=this.scene.matter.add.sprite(t.x,t.y,this.levelData.sprite,this.level.toString()).setAngle(0).setVisible(!1),this.weapon=this.scene.matter.add.sprite(t.x+this.levelData.weapon.offsetX,t.y+this.levelData.weapon.offsetY,this.levelData.weapon.sprite,"0").setCollisionGroup(n.BULLET).setAngle(0).setDepth(o.INTERACTION).setVisible(!1),this.sprite.setExistingBody(this.body.create({parts:[this.bodies.rectangle(0,0,8,8)],frictionAir:0,friction:0,frictionStatic:0})).setCollisionGroup(n.BULLET).setDepth(o.INTERACTION).setPosition(t.x,t.y).setAngle(0).setStatic(!0),this.weapon.setExistingBody(this.body.create({parts:[this.bodies.rectangle(0,0,8,8)],frictionAir:0,friction:0,frictionStatic:0})).setCollisionGroup(n.BULLET).setDepth(o.INTERACTION).setPosition(t.x+this.levelData.weapon.offsetX,t.y+this.levelData.weapon.offsetY).setAngle(0).setStatic(!0),this.radius=this.scene.add.graphics().lineStyle(2,0,.5).setAlpha(.5).strokeCircle(this.sprite.getCenter().x,this.sprite.getCenter().y,this.levelData.weapon.distance).setDepth(o.UI).setVisible(!1),this.weapon.on("animationupdate",((e,t)=>{this.lockedEnemy?t.index===this.levelData.weapon.shootFrame&&(this.levelData.weapon.shoot(this.scene,new Phaser.Math.Vector2(this.weapon.getCenter().x,this.weapon.getCenter().y),this.lockedEnemy.getCoords()),this.isShooting=!1):this.isShooting=!1})),this.menu=new x(this.scene,{x:this.sprite.getCenter().x,y:this.sprite.getCenter().y},{w:100,h:100},[{name:"upgrade",title:"UPGRADE",icon:"icons-0",needsBorder:!0,texture:"15",onClick:e=>{this.hasMaxLevel()||this.scene.getMoney()<this.levelData.upgradeCost||(this.hideMenu(),this.upgrade())}},{name:"sell",title:"SELL",icon:"icons-1",texture:"47",needsBorder:!0,onClick:e=>{this.hideMenu(),this.sell()}}]),this.sprite.setInteractive(),this.sprite.on("pointerdown",(e=>{e.leftButtonDown()&&(this.isMenuShown()?this.hideMenu():this.showMenu())}))}build(){new Promise(((e,t)=>{const s=this.scene.add.sprite(this.sprite.x,this.sprite.y,this.levelData.build.sprite,this.levelData.build.frame).setDepth(o.UI);s.anims.play(this.levelData.build.buildAnim),new T(this.scene,this.sprite.x,this.sprite.y,this.levelData.build.duration,(()=>{const t=this.scene.add.sprite(this.sprite.x,this.sprite.y,this.levelData.build.sprite,this.levelData.build.frame).setDepth(o.UI);t.anims.play(this.levelData.build.finishAnim),t.on("animationcomplete",(()=>{s.destroy(),t.destroy(),e(this)}))}))})).then((()=>{this.sprite.setVisible(!0),this.weapon.setVisible(!0),this.isBuilding=!1}))}update(e,t){if(!this.isBuilding&&(this.lockedEnemy=this.scene.getNearestBloon(new Phaser.Math.Vector2(this.sprite.x,this.sprite.y),this.levelData.weapon.distance),this.lockedEnemy)){const{x:t,y:s}=this.lockedEnemy.getXY();this.weapon.setAngle(180*Phaser.Math.Angle.Between(this.sprite.x,this.sprite.y,t,s)/Math.PI+90),e>this.lastFired&&!this.isShooting&&(this.isShooting=!0,this.weapon.anims.play(this.levelData.weapon.shootAnim),this.lastFired=e+this.levelData.weapon.cooldown)}}getXY(){return{x:this.sprite.x,y:this.sprite.y}}getCoords(){return new Phaser.Math.Vector2(this.sprite.x,this.sprite.y)}getCenter(){return this.sprite.getCenter()}getLevel(){return this.level}isDestroyed(){return this.destroyed}sell(){const e=Math.floor(this.costs*this.params.economy.sellPercentage),t=this.scene.add.sprite(this.sprite.x,this.sprite.y,"tower-destroy-animations","0").setDepth(o.UI);t.anims.play("tower-destroy"),t.on("animationupdate",((e,t)=>{2===t.index&&(this.destroyed=!0,this.sprite.destroy(),this.weapon.destroy(),this.radius.destroy(),this.menu.destroy())})),t.on("animationcomplete",(()=>{t.destroy(),this.scene.addMoney(e)}))}upgrade(){this.level++,this.levelData=this.params.level[this.level.toString()],this.isBuilding=!0,this.weapon.setVisible(!1),this.sprite.setVisible(!1),new Promise(((e,t)=>{const s=this.scene.add.sprite(this.sprite.x,this.sprite.y,this.levelData.build.sprite,this.levelData.build.frame).setDepth(o.UI);s.anims.play(this.levelData.build.buildAnim),new T(this.scene,this.sprite.x,this.sprite.y,this.levelData.build.duration,(()=>{const t=this.scene.add.sprite(this.sprite.x,this.sprite.y,this.levelData.build.sprite,this.levelData.build.frame).setDepth(o.UI);t.anims.play(this.levelData.build.finishAnim),t.on("animationcomplete",(()=>{s.destroy(),t.destroy(),e(null)}))}))})).then((()=>{this.radius.clear().lineStyle(2,0,.5).setAlpha(.5).strokeCircle(this.sprite.getCenter().x,this.sprite.getCenter().y,this.levelData.weapon.distance),this.costs+=this.levelData.upgradeCost,this.sprite.setTexture(this.levelData.sprite,this.level.toString()),this.weapon.setTexture(this.levelData.weapon.sprite,this.levelData.weapon.frame),this.weapon.setPosition(this.sprite.x+this.levelData.weapon.offsetX,this.sprite.y+this.levelData.weapon.offsetY),this.weapon.setVisible(!0),this.sprite.setVisible(!0),this.isBuilding=!1}))}hasMaxLevel(){return this.level===this.params.maxLevel}isMenuShown(){return this.menu.isShown}hideMenu(){this.menu.hide(),this.radius.setVisible(!1)}showMenu(){this.menu.show(),this.radius.setVisible(!0)}getMenuXY(){return this.menu.getXY()}}class E extends A{static config={offsetX:32,offsetY:0,maxLevel:3,economy:{buildCost:100,sellPercentage:.8},level:{1:{weapon:{sprite:"weapons-0-lvl-0",frame:0,shootAnim:"weapons-0-lvl-0-shoot",shootFrame:2,offsetX:0,offsetY:-8,cooldown:1e3,distance:250,shoot:function(e,t,s){e.spawnProjectile(g.create(e,t,s))}},sprite:"towers-0",frame:0,upgradeCost:0,build:{sprite:"tower-animations",frame:0,buildAnim:"tower-build-0",finishAnim:"tower-build-0-finish",duration:5e3}},2:{weapon:{sprite:"weapons-0-lvl-1",frame:0,shootAnim:"weapons-0-lvl-1-shoot",shootFrame:2,offsetX:0,offsetY:-24,cooldown:1500,distance:350,shoot:function(e,t,s){e.spawnProjectile(b.create(e,t,s))}},sprite:"towers-0",frame:1,upgradeCost:100,build:{sprite:"tower-animations",frame:1,buildAnim:"tower-build-1",startAnim:"tower-build-1-start",finishAnim:"tower-build-1-finish",duration:1e4}},3:{weapon:{sprite:"weapons-0-lvl-2",frame:0,shootAnim:"weapons-0-lvl-2-shoot",shootFrame:2,offsetX:0,offsetY:-32,cooldown:2e3,distance:500,shoot:function(e,t,s){e.spawnProjectile(v.create(e,t,s))}},sprite:"towers-0",frame:1,upgradeCost:250,build:{sprite:"tower-animations",frame:1,buildAnim:"tower-build-2",startAnim:"tower-build-2-start",finishAnim:"tower-build-2-finish",duration:15e3}}}};constructor(e,t){super(e,t,E.config)}static create(e,t){return new E(e,t)}}class D extends A{static config={offsetX:32,offsetY:0,maxLevel:3,economy:{buildCost:100,sellPercentage:.8},level:{1:{weapon:{sprite:"weapons-2-lvl-0",frame:0,shootAnim:"weapons-2-lvl-0-shoot",shootFrame:2,offsetX:0,offsetY:-8,cooldown:1e3,distance:250,shoot:function(e,t,s){e.spawnProjectile(g.create(e,t,s))}},sprite:"towers-2",frame:0,upgradeCost:0,build:{sprite:"tower-animations",frame:0,buildAnim:"tower-build-0",finishAnim:"tower-build-0-finish",duration:5e3}},2:{weapon:{sprite:"weapons-2-lvl-1",frame:0,shootAnim:"weapons-2-lvl-1-shoot",shootFrame:2,offsetX:0,offsetY:-24,cooldown:1500,distance:350,shoot:function(e,t,s){e.spawnProjectile(b.create(e,t,s))}},sprite:"towers-2",frame:1,upgradeCost:100,build:{sprite:"tower-animations",frame:1,buildAnim:"tower-build-1",startAnim:"tower-build-1-start",finishAnim:"tower-build-1-finish",duration:1e4}},3:{weapon:{sprite:"weapons-2-lvl-2",frame:0,shootAnim:"weapons-2-lvl-2-shoot",shootFrame:2,offsetX:0,offsetY:-32,cooldown:2e3,distance:500,shoot:function(e,t,s){e.spawnProjectile(v.create(e,t,s))}},sprite:"towers-2",frame:1,upgradeCost:250,build:{sprite:"tower-animations",frame:1,buildAnim:"tower-build-2",startAnim:"tower-build-2-start",finishAnim:"tower-build-2-finish",duration:15e3}}}};constructor(e,t){super(e,t,D.config)}static create(e,t){return new D(e,t)}}class S extends y{constructor(e,t,{x:s,y:i}){super(e,t,{x:s,y:i})}static create(e,{x:t,y:s}){return new S(e,{sprite:"towers-0",frame:"1",radius:32,maxDistance:250,placeTower:(e,t)=>{if(e.getMoney()<E.config.economy.buildCost)return void console.log("Not enough money!");const s=E.create(e,{x:t.pixelX+32,y:t.pixelY});e.turrets.push({sprite:s,tile:t}),s.build()}},{x:t,y:s})}}class P extends y{constructor(e,t,{x:s,y:i}){super(e,t,{x:s,y:i})}static create(e,{x:t,y:s}){return new P(e,{sprite:"towers-2",frame:"1",radius:32,maxDistance:250,placeTower:(e,t)=>{if(e.getMoney()<D.config.economy.buildCost)return void console.log("Not enough money!");const s=D.create(e,{x:t.pixelX+32,y:t.pixelY});e.turrets.push({sprite:s,tile:t}),s.build()}},{x:t,y:s})}}class I{container;icon;text;constructor(e,t,s,i,a,r,n,l){this.container=e.add.container(t,s).setDepth(o.UI),this.icon=e.add.sprite(0,0,i,a).setDisplaySize(n,n).setOrigin(0,.5).setDepth(o.UI_ITEM),this.text=e.add.text(0,0,r,{fontFamily:"Public Pixel",fontSize:n/1.5+"px",color:"#"+l.toString(16)}).setOrigin(0,.5).setPadding(42,0,0,0).setDepth(o.UI_ITEM),this.container.add(this.icon),this.container.add(this.text)}updateText(e){this.text.setText(e)}}class k{container;sprites=[];constructor(e,t,s,i,a,r){this.container=e.add.container(t,s).setDepth(o.UI);for(let t=0;t<a.length;t++)for(let s=0;s<a[t].length;s++){const n=e.add.sprite(s*r,t*r,i,a[t][s]).setOrigin(0,0).setDisplaySize(r,r).setDepth(o.UI_ITEM);this.sprites.push(n),this.container.add(n)}}}class j extends Phaser.Scene{spawn=Phaser.Math.Vector2.ZERO;goal=Phaser.Math.Vector2.ZERO;mapdata;wave=0;waveData;money=1e3;enemiesLeft=0;enemiesSpawned=0;nextEnemy=0;lastEnemy="scorpion";lifes=1;path;world;hud;enemies;projectiles;turrets;constructor(){super({key:"game",active:!0,visible:!0}),this.enemies=new h,this.projectiles=new h,this.turrets=[]}preload(){p.initiate(this)}create(){this.world=c.renderMap(this),this.mapdata=this.cache.json.get("mapdata"),this.matter.world.setBounds(0,0,this.world.widthInPixels,this.world.heightInPixels),this.spawn=new Phaser.Math.Vector2(this.mapdata.spawn.x,this.mapdata.spawn.y),this.goal=new Phaser.Math.Vector2(this.mapdata.goal.x,this.mapdata.goal.y),this.path=c.createPath(this.path,this.mapdata.path,this.spawn,this.goal),this.hud=this.add.container(this.cameras.main.width-64,16).setDepth(o.UI);const e=this.add.graphics();e.fillStyle(0,1),e.fillRect(0,0,64,256),this.hud.add(e),p.generateAnimations(this),S.create(this,{x:0,y:0}),P.create(this,{x:0,y:128}),this.input.mouse.disableContextMenu(),this.input.on("pointerdown",(e=>{e.leftButtonDown()&&this.turrets.forEach((t=>{if(!t.sprite.isMenuShown())return;const{x:s,y:i}=e,{x:a,y:r}=t.sprite.getMenuXY();Phaser.Math.Distance.Between(s,i,a,r)>144&&t.sprite.hideMenu()}))})),new k(this,0,0,"icons-frames-1",[["0","1","2","2","3"],["4","5","5","6","7"],["8","9","10","9","11"],["12","13","13","14","15"]],32),new I(this,14,46,"icons-frames-0","160","100",32,0),new I(this,14,92,"icons-frames-0","180","1000",32,0)}update(e,t){if(this.enemies.active<20&&this.nextEnemy<e){let t;"scorpion"===this.lastEnemy?(t=f.create(this,{x:this.spawn.x,y:this.spawn.y}),this.lastEnemy="larvae"):(t=u.create(this,{x:this.spawn.x,y:this.spawn.y}),this.lastEnemy="scorpion"),t.startOnPath(this.path),this.nextEnemy=e+2e3}this.enemies.update(e,t),this.projectiles.update(e,t);for(let s=0;s<this.turrets.length;s++){const i=this.turrets[s];i.sprite.isDestroyed()?(this.turrets.splice(s,1),s--):i.sprite.update(e,t)}}createEnemy(e){this.enemies.add(e),this.projectiles.forEach((t=>this.matterCollision.addOnCollideStart({objectA:t.getSprite(),objectB:e.getSprite(),context:this,callback:s=>{const{gameObjectB:i}=s;if(i instanceof Phaser.Physics.Matter.Sprite){const{x:s,y:a}=i;e.getHit(t.params.damage),this.removeProjectile(t);const r=this.add.sprite(s,a,"effects-0","0").setDepth(o.INTERACTION);r.anims.play("projectiles-0-hit"),r.on("animationcomplete",(()=>{r.destroy()}))}}})))}createProjectile(e){this.projectiles.add(e),this.enemies.forEach((t=>this.matterCollision.addOnCollideStart({objectA:e.getSprite(),objectB:t.getSprite(),context:this,callback:s=>{const{gameObjectB:i}=s;if(i instanceof Phaser.Physics.Matter.Sprite){const{x:s,y:a}=i;t.getHit(e.params.damage),this.removeProjectile(e);const r=this.add.sprite(s,a,"effects-0","0").setDepth(o.INTERACTION);r.anims.play("projectiles-0-hit"),r.on("animationcomplete",(()=>{r.destroy()}))}}})))}removeProjectile(e){this.matterCollision.removeOnCollideStart({objectA:e.getSprite()}),this.projectiles.remove(e),e.onCollide(),e.destroy()}loseHealth(e,t){this.lifes-=t,this.lifes<=0&&(this.scene.pause("game"),this.add.graphics().fillStyle(723723).fillRect(0,this.cameras.main.centerY-192,this.cameras.main.width,256).setDepth(o.UI),this.add.text(this.cameras.main.centerX-64,this.cameras.main.centerY-64,"Game Over",{fontFamily:"Public Pixel",fontSize:128,color:"#ffffff",padding:{x:16,y:16}}).setDepth(o.UI).setOrigin(.5,.5))}getNearestBloon(e,t){let s,i=t;return this.enemies.forEach((t=>{if(!t.isDead()){const{x:a,y:r}=t.getXY(),n=Phaser.Math.Distance.Between(e.x,e.y,a,r);n<i&&(s=t,i=n)}})),s}addMoney(e){this.money+=e}removeMoney(e){this.money-=e}getMoney(){return this.money}spawnProjectile(e){this.projectiles.add(e)}checkCollision(e,t){const s=this.world.getTileAt(e.x,e.y-1);return!!e.collides||!!this.turrets.some((t=>{const i=this.world.getTileAt(t.tile.x,t.tile.y-1);return i===e||i===s||t.tile===e||t.tile===s}))}getTileAtWorldXY(e,t){return this.world.getTileAtWorldXY(e,t)}}const C={type:Phaser.AUTO,scale:{height:1408,width:2560,parent:"game",mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},physics:{default:"matter",matter:{debug:!0,gravity:{y:0}}},fps:{target:30},scene:[j],plugins:{scene:[{plugin:a(),key:"matterCollision",mapping:"matterCollision"},{plugin:r,key:"animatedTiles",mapping:"animatedTiles"}]}};window.addEventListener("load",(function(){return new Phaser.Game(C)}))}},s={};function i(e){var a=s[e];if(void 0!==a)return a.exports;var r=s[e]={id:e,loaded:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=t,e=[],i.O=(t,s,a,r)=>{if(!s){var n=1/0;for(p=0;p<e.length;p++){for(var[s,a,r]=e[p],o=!0,l=0;l<s.length;l++)(!1&r||n>=r)&&Object.keys(i.O).every((e=>i.O[e](s[l])))?s.splice(l--,1):(o=!1,r<n&&(n=r));if(o){e.splice(p--,1);var h=a();void 0!==h&&(t=h)}}return t}r=r||0;for(var p=e.length;p>0&&e[p-1][2]>r;p--)e[p]=e[p-1];e[p]=[s,a,r]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0};i.O.j=t=>0===e[t];var t=(t,s)=>{var a,r,[n,o,l]=s,h=0;if(n.some((t=>0!==e[t]))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(l)var p=l(i)}for(t&&t(s);h<n.length;h++)r=n[h],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(p)},s=self.webpackChunktypescript_tower_defense_2d=self.webpackChunktypescript_tower_defense_2d||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var a=i.O(void 0,[426],(()=>i(559)));a=i.O(a)})();